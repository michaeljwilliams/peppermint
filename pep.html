pep: HTML within JavaScript
mint: JavaScript within HTML

{{ }} pep
    • contains html within js. Parsed for html, compiled into js, then eval()'d
    • html within js:             {{foo = <p>hello</p>}}
    • angle brackets and contents are converted to template literals
        - pep.foo(` is inserted before opening tag
        - )` is inserted after closing tag
    • use js within {{{ }}} by enclosing within {{ }}
    • use angle brackets within {{{ }}} by escaping: \< and \>

{{{ }}} mint
    • gets eval()'d without being parsed for html
    • variable within html:       <p>{{{foo}}}</p> 
    • scriptlet:                  {{{ foo() }}}
    • The difference between mint and a script tag is that mint runs at render time.

engine exposes variables for convenience
    • sitewide variables: site.foo
    • file variables: filepath.foo (current page or other page)
        - relative: 'path/to/file.html'
        - absolute (from site root) '/path/to/file.html'

in js or html, escape with \
    \{{ or \}} or \{\{{ 


example
{{{
    if(user) {
        <p>Hello <strong>{{ user.name }} </strong></p>
    }
}}}

compiles to (js)
    if(user) {
        pep.write(`<p>Hello <strong>${ user.name }</strong></p>`)
    }

and renders to
    <p>Hello <strong>username</strong></p>



Note that this won't compile correctly. newline or space required between }} in js
function() {
    function() {
}}



methods
{{ pep.write(foo) }}                    simply write text to current file
{{ pep.writeSafe(unsafeFoo')}}          escape html and write text
{{ pep.include('partials/me.html') }}   simply write text in other file to current file
{{ pep.includeSafe('unsafe.html')}}     escape html and include
{{ pep.@('partials/me.html') }}         shorthand for write
{{ @('partials/me.html') }}             shorterhand for write



example

    <div>
        {{ pep.write('partials/me.html') }} 

        <section>
            <h2>Recent posts</h2>

            <ol class="post-list">
                {{{
                    let posts = require('posts.json').posts

                    for(let i = 0; i \< 3; i++) {
                        let p = posts[i]
                        <li>
                            <a class="u-link-reset post-list-post-title" href="{{ p.url }}">{{ p.title }}</a>
                            <time>{{ p.date }}</time>
                            <p>{{ p.blurb }}</p>
                            <a href="{{ p.url }}">Continue reading</a>
                        </li>
                    }
                }}}
            </ol>
        </section>
    </div>

compiles to
    <div>
        <!--js--> pep.write(require('partials/me.html'))

        <section>
            <h2>Recent posts</h2>

            <ol class="post-list">
                <!--js-->
                    let posts = require('posts.json').posts

                    for(let i = 0; i \< 3; i++) {
                        let p = posts[i]
                        pep.write(`
                        <li>
                            <a class="u-link-reset post-list-post-title" href="${ p.url }">${ p.title }</a>
                            <time>${ p.date }</time>
                            <p>${ p.blurb }</p>
                            <a href="${ p.url }">Continue reading</a>
                        </li>
                        `)
                    }
                <!--/js-->)
            </ol>
        </section>
    </div>